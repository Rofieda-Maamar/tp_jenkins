plugins {
    id 'java'
    id 'application'
}

group = 'com.test'
version = '1.0-SNAPSHOT'

def mavenPassword = project.findProperty('maven.password') ?: System.getenv('password') ?: ''
def mavenUrl = project.findProperty('maven.url') ?: System.getenv('url') ?: ''
def mavenUsername = project.findProperty('maven.username') ?: System.getenv('username') ?: ''

// Configuration du repository Maven pour lire la librairie déployée
repositories {
    mavenCentral()

    maven {
        url mavenUrl
        credentials {
            username = mavenUsername
            password = mavenPassword
        }
    }
}

dependencies {
    // Syntaxe: implementation "groupId:artifactId:version"
    implementation 'com.example:tp5_ogl_1:1.0-SNAPSHOT'

    // Pour les tests
    testImplementation 'junit:junit:4.13.2'
}

application {
    mainClass = 'com.example.Main'
}

test {
    useJUnit()
}
